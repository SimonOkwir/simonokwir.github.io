\usepackage[sorting=none, maxbibnames=99, mincitenames=99, maxcitenames=99, style=numeric, backend=bibtex,
            defernumbers=true,isbn=false,url=false,eprint=false, giveninits=true]{biblatex}  % For the references
%\DeclareFieldFormat{labelnumberwidth}{}
\setlength{\biblabelsep}{10pt}
\setlength{\bibitemsep}{0.5\baselineskip plus 0.5\baselineskip}

\AtEveryBibitem{\clearlist{language}\clearname{editor}\clearname{note}}

% --- Add bold names --- %

\makeatletter
\def\nhblx@bibfile@name{\jobname -nhblx.bib}
\newwrite\nhblx@bibfile
\immediate\openout\nhblx@bibfile=\nhblx@bibfile@name

\immediate\write\nhblx@bibfile{@comment{Auto-generated file}\blx@nl}

\newcounter{nhblx@name}
\setcounter{nhblx@name}{0}

\newcommand*{\nhblx@writenametobib}[1]{\stepcounter{nhblx@name}\edef\nhblx@tmp@nocite{\noexpand\AfterPreamble{\noexpand\setbox0\noexpand\vbox{\noexpand\nhblx@getmethehash{nhblx@name@\the\value{nhblx@name}}}}}\nhblx@tmp@nocite\immediate\write\nhblx@bibfile{@misc{nhblx@name@\the\value{nhblx@name}, author = {\unexpanded{#1}},options = {dataonly=true,skipbib=true,skipbiblist=true},}}}

\AtEndDocument{\closeout\nhblx@bibfile}

\addbibresource{\nhblx@bibfile@name}

\newcommand*{\nhblx@boldhashes}{}
\DeclareNameFormat{nhblx@hashextract}{\xifinlist{\thefield{hash}}{\nhblx@boldhashes}{}{\listxadd{\nhblx@boldhashes}{\thefield{hash}}}}

\DeclareCiteCommand{\nhblx@getmethehash}{}{\printnames[nhblx@hashextract][1-999]{author}}{}{}

\newcommand*{\addboldnames}{\forcsvlist\nhblx@writenametobib}
\newcommand*{\resetboldnames}{\def\nhblx@boldhashes{}}

\newcommand*{\mkboldifhashinlist}[1]{\xifinlist{\thefield{hash}}{\nhblx@boldhashes}{\mkbibbold{#1}}{#1}}
\makeatother

\DeclareNameWrapperFormat{boldifhashinlist}{\renewcommand*{\mkbibcompletename}{\mkboldifhashinlist}#1}

\DeclareNameWrapperAlias{sortname}{default}
\DeclareNameWrapperAlias{default}{boldifhashinlist}


% --- Add bold names --- %

% DEFINE BOLD NAMES
\addboldnames{ {Ribeiro, Ant\^onio H.}, {Ribeiro, Ant\^onio H}, {Ribeiro, Antonio H.}, {Ribeiro, Antonio H} }

% ---break line before publication name

\renewcommand*{\nametitledelim}{\newunitpunct\par} % An alternative is to use: \nametitledelim
\renewbibmacro{in:}{\newline In:}


\DeclareFieldFormat*{title}{``\textit{#1}''}
\DeclareFieldFormat*{venue}{\textsc{#1}}

\DeclareFieldFormat*{booktitle}{\textsc{#1}}
\DeclareFieldFormat*{journaltitle}{\textsc{#1}}
\DeclareFieldFormat*{doi}{\newline \scriptsize DOI:~\href{https://doi.org/#1}{#1}}


% --- Add all publications (in the header)



    \DeclareBibliographyCategory{cWorking manuscripts}
    \defbibheading{cWorking manuscripts}{\subsection*{ Working manuscripts} }
    
        \addtocategory{cWorking manuscripts}{ huang_generalization_2023}
        \nocite{ huang_generalization_2023}
    
        \addtocategory{cWorking manuscripts}{ sau_neural_2023}
        \nocite{ sau_neural_2023}
    
        \addtocategory{cWorking manuscripts}{ gedon_no_2023}
        \nocite{ gedon_no_2023}
    
        \addtocategory{cWorking manuscripts}{ vonbachmann_ecgbased_2022}
        \nocite{ vonbachmann_ecgbased_2022}
    
        \addtocategory{cWorking manuscripts}{ lu_knowledge_2022}
        \nocite{ lu_knowledge_2022}
    

    \DeclareBibliographyCategory{cIn press}
    \defbibheading{cIn press}{\subsection*{ In press} }
    
        \addtocategory{cIn press}{ pillonetto_deep_2023}
        \nocite{ pillonetto_deep_2023}
    

    \DeclareBibliographyCategory{cJournal papers}
    \defbibheading{cJournal papers}{\subsection*{ Journal papers} }
    
        \addtocategory{cJournal papers}{ habineza_endtoend_2023}
        \nocite{ habineza_endtoend_2023}
    
        \addtocategory{cJournal papers}{ sangha_detection_2023}
        \nocite{ sangha_detection_2023}
    
        \addtocategory{cJournal papers}{ lindow_heart_2023}
        \nocite{ lindow_heart_2023}
    
        \addtocategory{cJournal papers}{ brant_electrocardiographic_2023}
        \nocite{ brant_electrocardiographic_2023}
    
        \addtocategory{cJournal papers}{ jidling_screening_2023}
        \nocite{ jidling_screening_2023}
    
        \addtocategory{cJournal papers}{ gedon_invertible_2023}
        \nocite{ gedon_invertible_2023}
    
        \addtocategory{cJournal papers}{ ribeiro_overparameterized_2023}
        \nocite{ ribeiro_overparameterized_2023}
    
        \addtocategory{cJournal papers}{ zhang_association_2023}
        \nocite{ zhang_association_2023}
    
        \addtocategory{cJournal papers}{ zvuloni_merging_2023}
        \nocite{ zvuloni_merging_2023}
    
        \addtocategory{cJournal papers}{ gustafsson_development_2022}
        \nocite{ gustafsson_development_2022}
    
        \addtocategory{cJournal papers}{ sangha_automated_2022}
        \nocite{ sangha_automated_2022}
    
        \addtocategory{cJournal papers}{ paixao_electrocardiographic_2021}
        \nocite{ paixao_electrocardiographic_2021}
    
        \addtocategory{cJournal papers}{ lima_deep_2021}
        \nocite{ lima_deep_2021}
    
        \addtocategory{cJournal papers}{ biton_atrial_2021}
        \nocite{ biton_atrial_2021}
    
        \addtocategory{cJournal papers}{ meirajr_contextualized_2020}
        \nocite{ meirajr_contextualized_2020}
    
        \addtocategory{cJournal papers}{ paixao_evaluation_2020}
        \nocite{ paixao_evaluation_2020}
    
        \addtocategory{cJournal papers}{ ribeiro_smoothness_2020}
        \nocite{ ribeiro_smoothness_2020}
    
        \addtocategory{cJournal papers}{ ribeiro_automatic_2020a}
        \nocite{ ribeiro_automatic_2020a}
    
        \addtocategory{cJournal papers}{ virtanen_scipy_2020}
        \nocite{ virtanen_scipy_2020}
    
        \addtocategory{cJournal papers}{ ribeiro_teleelectrocardiography_2019}
        \nocite{ ribeiro_teleelectrocardiography_2019}
    
        \addtocategory{cJournal papers}{ paixao_evaluation_2019}
        \nocite{ paixao_evaluation_2019}
    
        \addtocategory{cJournal papers}{ ribeiro_parallel_2018}
        \nocite{ ribeiro_parallel_2018}
    

    \DeclareBibliographyCategory{cConference papers}
    \defbibheading{cConference papers}{\subsection*{ Conference papers} }
    
        \addtocategory{cConference papers}{ ribeiro_regularization_2023}
        \nocite{ ribeiro_regularization_2023}
    
        \addtocategory{cConference papers}{ hendriks_deep_2021}
        \nocite{ hendriks_deep_2021}
    
        \addtocategory{cConference papers}{ ribeiro_occam_2021b}
        \nocite{ ribeiro_occam_2021b}
    
        \addtocategory{cConference papers}{ ribeiro_how_2021}
        \nocite{ ribeiro_how_2021}
    
        \addtocategory{cConference papers}{ gedon_first_2021}
        \nocite{ gedon_first_2021}
    
        \addtocategory{cConference papers}{ oliveira_explaining_2020a}
        \nocite{ oliveira_explaining_2020a}
    
        \addtocategory{cConference papers}{ ribeiro_automatic_2020}
        \nocite{ ribeiro_automatic_2020}
    
        \addtocategory{cConference papers}{ ribeiro_exploding_2020}
        \nocite{ ribeiro_exploding_2020}
    
        \addtocategory{cConference papers}{ oliveira_explaining_2020}
        \nocite{ oliveira_explaining_2020}
    
        \addtocategory{cConference papers}{ andersson_deep_2019}
        \nocite{ andersson_deep_2019}
    
        \addtocategory{cConference papers}{ ribeiro_lasso_2018}
        \nocite{ ribeiro_lasso_2018}
    
        \addtocategory{cConference papers}{ ribeiro_shooting_2017}
        \nocite{ ribeiro_shooting_2017}
    
        \addtocategory{cConference papers}{ ribeiro_selecting_2015}
        \nocite{ ribeiro_selecting_2015}
    

    \DeclareBibliographyCategory{cPeer-reviewed but non-archival workshop papers}
    \defbibheading{cPeer-reviewed but non-archival workshop papers}{\subsection*{ Peer-reviewed but non-archival workshop papers} }
    
        \addtocategory{cPeer-reviewed but non-archival workshop papers}{ gedon_resnetbased_2021}
        \nocite{ gedon_resnetbased_2021}
    
        \addtocategory{cPeer-reviewed but non-archival workshop papers}{ hendriks_deep_2021a}
        \nocite{ hendriks_deep_2021a}
    
        \addtocategory{cPeer-reviewed but non-archival workshop papers}{ ribeiro_occam_2021a}
        \nocite{ ribeiro_occam_2021a}
    
        \addtocategory{cPeer-reviewed but non-archival workshop papers}{ ribeiro_overparametrized_2021}
        \nocite{ ribeiro_overparametrized_2021}
    
        \addtocategory{cPeer-reviewed but non-archival workshop papers}{ ribeiro_deep_2019}
        \nocite{ ribeiro_deep_2019}
    
        \addtocategory{cPeer-reviewed but non-archival workshop papers}{ ribeiro_automatic_2018}
        \nocite{ ribeiro_automatic_2018}
    

    \DeclareBibliographyCategory{cNational conference papers (in portuguese)}
    \defbibheading{cNational conference papers (in portuguese)}{\subsection*{ National conference papers (in portuguese)} }
    
        \addtocategory{cNational conference papers (in portuguese)}{ ribeiro_relacoes_2014}
        \nocite{ ribeiro_relacoes_2014}
    

    \DeclareBibliographyCategory{cThesis}
    \defbibheading{cThesis}{\subsection*{ Thesis} }
    
        \addtocategory{cThesis}{ ribeiro_learning_2020}
        \nocite{ ribeiro_learning_2020}
    
        \addtocategory{cThesis}{ ribeiro_recurrent_2017}
        \nocite{ ribeiro_recurrent_2017}
    
        \addtocategory{cThesis}{ ribeiro_implementacao_2015}
        \nocite{ ribeiro_implementacao_2015}
    



% --- listing publications

\newcommand{\printmypublications}
{
    
    \subsection*{ Working manuscripts}
    \newrefcontext[labelprefix=P ]
    \printbibliography[category=cWorking manuscripts, heading=none]
    
    \subsection*{ In press}
    \newrefcontext[labelprefix=PJ ]
    \printbibliography[category=cIn press, heading=none]
    
    \subsection*{ Journal papers}
    \newrefcontext[labelprefix=J ]
    \printbibliography[category=cJournal papers, heading=none]
    
    \subsection*{ Conference papers}
    \newrefcontext[labelprefix=C ]
    \printbibliography[category=cConference papers, heading=none]
    
    \subsection*{ Peer-reviewed but non-archival workshop papers}
    \newrefcontext[labelprefix=W ]
    \printbibliography[category=cPeer-reviewed but non-archival workshop papers, heading=none]
    
    \subsection*{ National conference papers (in portuguese)}
    \newrefcontext[labelprefix=N ]
    \printbibliography[category=cNational conference papers (in portuguese), heading=none]
    
    \subsection*{ Thesis}
    \newrefcontext[labelprefix=T ]
    \printbibliography[category=cThesis, heading=none]
    
}

