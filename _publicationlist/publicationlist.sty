\usepackage[sorting=none, maxbibnames=99, mincitenames=99, maxcitenames=99, style=numeric, backend=bibtex,
            defernumbers=true,isbn=false,url=false,eprint=false, giveninits=true]{biblatex}  % For the references
%\DeclareFieldFormat{labelnumberwidth}{}
\setlength{\biblabelsep}{10pt}
\setlength{\bibitemsep}{0.5\baselineskip plus 0.5\baselineskip}

\AtEveryBibitem{\clearlist{language}\clearname{editor}\clearname{note}}


% --- Add bold names --- %

\makeatletter
\def\nhblx@bibfile@name{\jobname -nhblx.bib}
\newwrite\nhblx@bibfile
\immediate\openout\nhblx@bibfile=\nhblx@bibfile@name

\immediate\write\nhblx@bibfile{@comment{Auto-generated file}\blx@nl}

\newcounter{nhblx@name}
\setcounter{nhblx@name}{0}

\newcommand*{\nhblx@writenametobib}[1]{\stepcounter{nhblx@name}\edef\nhblx@tmp@nocite{\noexpand\AfterPreamble{\noexpand\setbox0\noexpand\vbox{\noexpand\nhblx@getmethehash{nhblx@name@\the\value{nhblx@name}}}}}\nhblx@tmp@nocite\immediate\write\nhblx@bibfile{@misc{nhblx@name@\the\value{nhblx@name}, author = {\unexpanded{#1}},options = {dataonly=true,skipbib=true,skipbiblist=true},}}}

\AtEndDocument{\closeout\nhblx@bibfile}

\addbibresource{\nhblx@bibfile@name}

\newcommand*{\nhblx@boldhashes}{}
\DeclareNameFormat{nhblx@hashextract}{\xifinlist{\thefield{hash}}{\nhblx@boldhashes}{}{\listxadd{\nhblx@boldhashes}{\thefield{hash}}}}

\DeclareCiteCommand{\nhblx@getmethehash}{}{\printnames[nhblx@hashextract][1-999]{author}}{}{}

\newcommand*{\addboldnames}{\forcsvlist\nhblx@writenametobib}
\newcommand*{\resetboldnames}{\def\nhblx@boldhashes{}}

\newcommand*{\mkboldifhashinlist}[1]{\xifinlist{\thefield{hash}}{\nhblx@boldhashes}{\mkbibbold{#1}}{#1}}
\makeatother

\DeclareNameWrapperFormat{boldifhashinlist}{\renewcommand*{\mkbibcompletename}{\mkboldifhashinlist}#1}

\DeclareNameWrapperAlias{sortname}{default}
\DeclareNameWrapperAlias{default}{boldifhashinlist}


% --- Add bold names --- %

% DEFINE BOLD NAMES
\addboldnames{ {Ribeiro, Ant\^onio H.}, {Ribeiro, Ant\^onio H}, {Ribeiro, Antonio H.}, {Ribeiro, Antonio H} }

% ---break line before publication name

\renewcommand*{\nametitledelim}{\newunitpunct\par} % An alternative is to use: \nametitledelim
\renewbibmacro{in:}{\newline In:}


\DeclareFieldFormat*{title}{``\textit{#1}''}
\DeclareFieldFormat*{venue}{\textsc{#1}}

\DeclareFieldFormat*{booktitle}{\textsc{#1}}
\DeclareFieldFormat*{journaltitle}{\textsc{#1}}
\DeclareFieldFormat*{doi}{\newline \scriptsize DOI:~\href{https://doi.org/#1}{#1}}

% ---remove month and notes
\AtEveryBibitem{\clearfield{month}\clearfield{note}}
\AtEveryCitekey{\clearfield{month}\clearfield{note}}

% --- Add notes
\usepackage{trimspaces} % Just so it works with liquid
% Declare entry note
\DeclareFieldFormat{entrynote}{\\\small\textbf{\emph{\hspace{5pt} #1}}}

\makeatletter
\newrobustcmd{\addentrynote}[2]{\csdef{tohikoblx@entrynote@\the\c@refsection @\trim@spaces@noexp{#1}}{#2}}

\renewbibmacro*{finentry}{\ifcsundef{tohikoblx@entrynote@\the\c@refsection @\thefield{entrykey}}
    {}
    {\setunit{\finentrypunct}%
     \printtext[entrynote]{\csuse{tohikoblx@entrynote@\the\c@refsection @\thefield{entrykey}}}%
     \renewcommand*{\finentrypunct}{}}%
  \finentry%
}

\makeatother

% --- Add all publications (in the header)

    \DeclareBibliographyCategory{cJournal articles}
    \defbibheading{cJournal articles}{\subsection*{ Journal articles} }
    
        \addtocategory{cJournal articles}{ hempel_explainable_2025}
        \nocite{ hempel_explainable_2025}
    
        \addtocategory{cJournal articles}{ pillonetto_deep_2025}
        \nocite{ pillonetto_deep_2025}
    
        \addtocategory{cJournal articles}{ ribeiro_aiecg_2024}
        \nocite{ ribeiro_aiecg_2024}
    
        \addtocategory{cJournal articles}{ sau_comparison_2024}
        \nocite{ sau_comparison_2024}
    
        \addtocategory{cJournal articles}{ mcgurk_genetic_2024}
        \nocite{ mcgurk_genetic_2024}
    
        \addtocategory{cJournal articles}{ sau_prognostic_2024}
        \nocite{ sau_prognostic_2024}
    
        \addtocategory{cJournal articles}{ sau_artificial_2024a}
        \nocite{ sau_artificial_2024a}
    
        \addtocategory{cJournal articles}{ pastika_artificial_2024}
        \nocite{ pastika_artificial_2024}
    
        \addtocategory{cJournal articles}{ vonbachmann_evaluating_2022}
        \nocite{ vonbachmann_evaluating_2022}
    
        \addtocategory{cJournal articles}{ huang_generalization_2024}
        \nocite{ huang_generalization_2024}
    
        \addtocategory{cJournal articles}{ lu_decoding_2024}
        \nocite{ lu_decoding_2024}
    
        \addtocategory{cJournal articles}{ ribeiro_overparameterized_2023}
        \nocite{ ribeiro_overparameterized_2023}
    
        \addtocategory{cJournal articles}{ zvuloni_merging_2023}
        \nocite{ zvuloni_merging_2023}
    
        \addtocategory{cJournal articles}{ habineza_endtoend_2023}
        \nocite{ habineza_endtoend_2023}
    
        \addtocategory{cJournal articles}{ sangha_detection_2023}
        \nocite{ sangha_detection_2023}
    
        \addtocategory{cJournal articles}{ lindow_heart_2023}
        \nocite{ lindow_heart_2023}
    
        \addtocategory{cJournal articles}{ brant_electrocardiographic_2023}
        \nocite{ brant_electrocardiographic_2023}
    
        \addtocategory{cJournal articles}{ jidling_screening_2023}
        \nocite{ jidling_screening_2023}
    
        \addtocategory{cJournal articles}{ gedon_invertible_2023}
        \nocite{ gedon_invertible_2023}
    
        \addtocategory{cJournal articles}{ zhang_association_2023}
        \nocite{ zhang_association_2023}
    
        \addtocategory{cJournal articles}{ gustafsson_development_2022}
        \nocite{ gustafsson_development_2022}
    
        \addtocategory{cJournal articles}{ sangha_automated_2022}
        \nocite{ sangha_automated_2022}
    
        \addtocategory{cJournal articles}{ paixao_electrocardiographic_2021}
        \nocite{ paixao_electrocardiographic_2021}
    
        \addtocategory{cJournal articles}{ lima_deep_2021}
        \nocite{ lima_deep_2021}
    
        \addtocategory{cJournal articles}{ biton_atrial_2021}
        \nocite{ biton_atrial_2021}
    
        \addtocategory{cJournal articles}{ meirajr_contextualized_2020}
        \nocite{ meirajr_contextualized_2020}
    
        \addtocategory{cJournal articles}{ paixao_evaluation_2020}
        \nocite{ paixao_evaluation_2020}
    
        \addtocategory{cJournal articles}{ ribeiro_smoothness_2020}
        \nocite{ ribeiro_smoothness_2020}
    
        \addtocategory{cJournal articles}{ ribeiro_automatic_2020a}
        \nocite{ ribeiro_automatic_2020a}
    
        \addtocategory{cJournal articles}{ virtanen_scipy_2020}
        \nocite{ virtanen_scipy_2020}
    
        \addtocategory{cJournal articles}{ ribeiro_teleelectrocardiography_2019}
        \nocite{ ribeiro_teleelectrocardiography_2019}
    
        \addtocategory{cJournal articles}{ paixao_evaluation_2019}
        \nocite{ paixao_evaluation_2019}
    
        \addtocategory{cJournal articles}{ ribeiro_parallel_2018}
        \nocite{ ribeiro_parallel_2018}
    

    \DeclareBibliographyCategory{cConference papers}
    \defbibheading{cConference papers}{\subsection*{ Conference papers} }
    
        \addtocategory{cConference papers}{ ribeiro_efficient_2025}
        \nocite{ ribeiro_efficient_2025}
    
        \addtocategory{cConference papers}{ rajabi_deep_2025}
        \nocite{ rajabi_deep_2025}
    
        \addtocategory{cConference papers}{ taleb_can_2024}
        \nocite{ taleb_can_2024}
    
        \addtocategory{cConference papers}{ eriksson_transferability_2024}
        \nocite{ eriksson_transferability_2024}
    
        \addtocategory{cConference papers}{ gedon_no_2024}
        \nocite{ gedon_no_2024}
    
        \addtocategory{cConference papers}{ ribeiro_regularization_2023}
        \nocite{ ribeiro_regularization_2023}
    
        \addtocategory{cConference papers}{ hendriks_deep_2021}
        \nocite{ hendriks_deep_2021}
    
        \addtocategory{cConference papers}{ ribeiro_occam_2021b}
        \nocite{ ribeiro_occam_2021b}
    
        \addtocategory{cConference papers}{ ribeiro_how_2021}
        \nocite{ ribeiro_how_2021}
    
        \addtocategory{cConference papers}{ gedon_first_2021}
        \nocite{ gedon_first_2021}
    
        \addtocategory{cConference papers}{ oliveira_explaining_2020a}
        \nocite{ oliveira_explaining_2020a}
    
        \addtocategory{cConference papers}{ ribeiro_automatic_2020}
        \nocite{ ribeiro_automatic_2020}
    
        \addtocategory{cConference papers}{ ribeiro_exploding_2020}
        \nocite{ ribeiro_exploding_2020}
    
        \addtocategory{cConference papers}{ oliveira_explaining_2020}
        \nocite{ oliveira_explaining_2020}
    
        \addtocategory{cConference papers}{ andersson_deep_2019}
        \nocite{ andersson_deep_2019}
    
        \addtocategory{cConference papers}{ ribeiro_lasso_2018}
        \nocite{ ribeiro_lasso_2018}
    
        \addtocategory{cConference papers}{ ribeiro_shooting_2017}
        \nocite{ ribeiro_shooting_2017}
    
        \addtocategory{cConference papers}{ ribeiro_selecting_2015}
        \nocite{ ribeiro_selecting_2015}
    

    \DeclareBibliographyCategory{cPeer-reviewed but non-archival workshop papers}
    \defbibheading{cPeer-reviewed but non-archival workshop papers}{\subsection*{ Peer-reviewed but non-archival workshop papers} }
    
        \addtocategory{cPeer-reviewed but non-archival workshop papers}{ rajabi_amplified_2024}
        \nocite{ rajabi_amplified_2024}
    
        \addtocategory{cPeer-reviewed but non-archival workshop papers}{ gedon_resnetbased_2021}
        \nocite{ gedon_resnetbased_2021}
    
        \addtocategory{cPeer-reviewed but non-archival workshop papers}{ hendriks_deep_2021a}
        \nocite{ hendriks_deep_2021a}
    
        \addtocategory{cPeer-reviewed but non-archival workshop papers}{ ribeiro_occam_2021a}
        \nocite{ ribeiro_occam_2021a}
    
        \addtocategory{cPeer-reviewed but non-archival workshop papers}{ ribeiro_overparametrized_2021}
        \nocite{ ribeiro_overparametrized_2021}
    
        \addtocategory{cPeer-reviewed but non-archival workshop papers}{ ribeiro_deep_2019}
        \nocite{ ribeiro_deep_2019}
    
        \addtocategory{cPeer-reviewed but non-archival workshop papers}{ ribeiro_automatic_2018}
        \nocite{ ribeiro_automatic_2018}
    


% --- Add all notes

    \addentrynote{ ribeiro_regularization_2023}{ Spotlight paper}

    \addentrynote{ ribeiro_occam_2021b}{ Young Author Award (Honorable Mention)}

    \addentrynote{ lima_deep_2021}{ *Equal contribution: E. M. Lima, A. H. Ribeiro, G. M. M. Paixao}

    \addentrynote{ andersson_deep_2019}{ *Equal contribution: C. Andersson and A. H. Ribeiro}

    \addentrynote{ gustafsson_development_2022}{ *Equal contribution: S. Gustafsson and D. Gedon}


% --- listing publications

\newcommand{\printmypublications}
{
    
    \subsection*{ Journal articles}
    \newrefcontext[labelprefix=J ]
    \printbibliography[category=cJournal articles, heading=none]
    
    \subsection*{ Conference papers}
    \newrefcontext[labelprefix=C ]
    \printbibliography[category=cConference papers, heading=none]
    
    \subsection*{ Peer-reviewed but non-archival workshop papers}
    \newrefcontext[labelprefix=W ]
    \printbibliography[category=cPeer-reviewed but non-archival workshop papers, heading=none]
    
}

