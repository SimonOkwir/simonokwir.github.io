\documentclass[10pt,letterpaper]{article} % Use the custom resume.cls style

\usepackage{multicol} % For multicol at the start
\usepackage{hyperref} % Required for adding links and customizing them
\usepackage{xcolor}
\usepackage{tcolorbox}
\hypersetup{colorlinks,
  linkcolor={red!50!black},
  citecolor={blue!50!black},
  urlcolor={blue!5!black}}

\usepackage[left=1cm,top=1.2cm,right=1cm,bottom=1.2cm]{geometry} % Document margins


\usepackage[parfill]{parskip} % Remove paragraph indentation
\usepackage{array} % Required for boldface (\bf and \bfseries) tabular columns

\usepackage[sorting=ydnt, maxbibnames=99, style=numeric, backend=biber]{biblatex}  % For the references
%\DeclareFieldFormat{labelnumberwidth}{}
\setlength{\biblabelsep}{10pt}
\setlength{\bibitemsep}{0.5\baselineskip plus 0.5\baselineskip}
\bibliography{refs}

% Define maketitle
\makeatletter
\def\@maketitle{
  \begin{center}%
  \let \footnote \thanks
    {\LARGE \bf \@title \par}%
    \vskip 0.1em%
    {\large
      \lineskip .05em%
      \begin{tabular}[t]{c}%
        \@author
      \end{tabular}\par}%
    \vskip 0.1em%
    {\large \@date}
  \end{center}
  \par
  \vskip 1em}
\makeatother

% Define title and author
\title{Curriculum Vitae}
\author{Ant\^onio Horta Ribeiro}

% --- Add bold names --- %

\makeatletter
\def\nhblx@bibfile@name{\jobname -nhblx.bib}
\newwrite\nhblx@bibfile
\immediate\openout\nhblx@bibfile=\nhblx@bibfile@name

\immediate\write\nhblx@bibfile{@comment{Auto-generated file}\blx@nl}

\newcounter{nhblx@name}
\setcounter{nhblx@name}{0}

\newcommand*{\nhblx@writenametobib}[1]{\stepcounter{nhblx@name}\edef\nhblx@tmp@nocite{\noexpand\AfterPreamble{\noexpand\setbox0\noexpand\vbox{\noexpand\nhblx@getmethehash{nhblx@name@\the\value{nhblx@name}}}}}\nhblx@tmp@nocite\immediate\write\nhblx@bibfile{@misc{nhblx@name@\the\value{nhblx@name}, author = {\unexpanded{#1}},options = {dataonly=true},}}}

\AtEndDocument{\closeout\nhblx@bibfile}

\addbibresource{\nhblx@bibfile@name}

\newcommand*{\nhblx@boldhashes}{}
\DeclareNameFormat{nhblx@hashextract}{\xifinlist{\thefield{hash}}{\nhblx@boldhashes}{}{\listxadd{\nhblx@boldhashes}{\thefield{hash}}}}

\DeclareCiteCommand{\nhblx@getmethehash}{}{\printnames[nhblx@hashextract][1-999]{author}}{}{}

\newcommand*{\addboldnames}{\forcsvlist\nhblx@writenametobib}
\newcommand*{\resetboldnames}{\def\nhblx@boldhashes{}}

\newcommand*{\mkboldifhashinlist}[1]{\xifinlist{\thefield{hash}}{\nhblx@boldhashes}{\mkbibbold{#1}}{#1}}
\makeatother

\DeclareNameWrapperFormat{boldifhashinlist}{\renewcommand*{\mkbibcompletename}{\mkboldifhashinlist}#1}

\DeclareNameWrapperAlias{sortname}{default}
\DeclareNameWrapperAlias{default}{boldifhashinlist}

% --- Add bold names --- %

% DEFINE BOLD NAMES
\addboldnames{ {Ribeiro, Ant\^onio H.}, {Ribeiro, Ant\^onio H}, {Ribeiro, Antonio H.}, {Ribeiro, Antonio H} }

% New command

\newcommand{\cventry}[4]{ {\bf #1} \hfill {\em #2} \\ {\small \sc #3 \hfill  #4} }

\begin{document}

\maketitle

\begin{tcolorbox}[standard jigsaw, opacityback=0]
    \vspace{-4pt}
\begin{multicols}{2}
    \small
    \textbf{Current Position:}\\
    \, Postdoctoral Researcher\\
    \, Uppsala University (Sweden)\\
    \, Department of Information Technology,\\
    \, Division of Systems and Control\\
    {\bf Work Address:} Room 2340, ITC, LÃ¤gerhyddsv. 2, hus 2 \\
    \phantom{\bf Work address:} 752 37 Uppsala, Sweden\\
    {\bf Postal address:} Box 337 - 751 05 Uppsala, Sweden\\
    {\bf Email:} antonio.horta.ribeiro@it.uu.se\\
    {\bf Website:} antonior92.github.io
\end{multicols}
\end{tcolorbox}


\section*{Education} % Section title

{% for e in education %}
    \cventry{ {{ e.degree }} }
    { {{ e.start }} - {{ e.end }} }
    { {{ e.university }} }
    { {{ e.place}} } \\
    {{ e.note }}
{% endfor %}


\section*{Work experience} % Section title

{% for w in work %}
    \cventry{ {{ w.position }} }
    { {{ w.start }} -   {{ w.end }} }
    { {{ w.institution }} }
    { {{ w.place }} }\\
    {{ w.description }}
{% endfor %}

\section*{Awards}

{% for p in awards %}
    \cventry{ {{ p.award }} }
    { {{ p.year }} }
    { {{ p.grantedby }} }
    { {{p.place}} }\\
    {{ p.description }}
{% endfor %}

\section*{Scholarships}

{% for p in scholarships %}
    \cventry{ {{ p.name }} }
    { {{ p.year }} }
    { {{ p.agency }} }
    { {{ p.country }} } \\
    {{ p.description }}
{% endfor %}

\section*{Teaching}

{% for p in teaching %}
    \cventry{ {{  p.course }}  }
    { {{ p.semester }} - {{ p.year }}  }
    { {{ p.position }}  - {{ p.level }} }
    { {{ p.university }}  } \\ {% endfor %}

\newpage

\section*{Supervision}

{% for p in supervision %}
\cventry{ {{ p.level }}, {{ p.role }}: {{ p.student }}  }
{ {{ p.start }} - {{p.end}} }
{ {{ p.project }} }
{ {{ p.institution }}, {{ p.country }} } \\ {% endfor %}


\section*{Professional activity}

\subsection*{Peer reviewing: journal papers}

{% for p in professional.journalreviews %} {\em {{ p.journal }} } ({{ p.year }}), {% endfor %}

\subsection*{Peer reviewing: conference papers}

{% for p in professional.conferencereviews %} {\em {{ p.conference }} } ({{ p.year }}), {% endfor %}

\subsection*{Expert assignments}

{% for p in professional.others %} {{ p.name }} \hfill {\em {{ p.year }} } \\ {% endfor %}

\subsection*{Open source contributions}

{\bf Scipy  core team member} \hfill {\em 2017 - 2021} \\
I was one of the 34 \href{https://www.scipy.org}{SciPy} core development  team members\footnote{Checked on February 20, 2020}.
\href{https://www.scipy.org}{SciPy} is one of the core scientific libraries in Python and I was invited to the core team
for having contributed to optimization and signal processing packages with the implementation of signal filters:
\href{http://scipy.github.io/devdocs/generated/scipy.signal.iirnotch.html}{\texttt{iirnotch}},
    \href{http://scipy.github.io/devdocs/generated/scipy.signal.iirpeak.html}{\texttt{iirpeak}};
    and optimization methods: \href{http://scipy.github.io/devdocs/optimize.minimize-trustexact.html}{\texttt{trust-exact}}, \href{http://scipy.github.io/devdocs/optimize.minimize-trustconstr.html}{\texttt{trust-constr}}. My GitHub account: \href{https://github.com/antonior92}{https://github.com/antonior92} contain a complete list of my open-source contributions.

\section*{Publications}

\begin{tcolorbox}[width=6in, standard jigsaw, opacityback=0]
    \vspace{-4pt}
    \footnotesize
{\bf ORCID}:  \href{https://orcid.org/0000-0003-3632-8529}{0000-0003-3632-8529}\\
{\bf DBLP}: \href{https://dblp.org/pid/202/1699.html}{202/1699}\\
{\bf SCOPUS}: ID: \href{https://www.scopus.com/authid/detail.uri?authorId=57191699148}{57191699148} ---
    Citations: 4654, h-index: 6 (2022-01-14) \\
{\bf Google Scholar}: \href{https://scholar.google.com.br/citations?user=5t_sZdMAAAAJ}{Antonio H. Ribeiro} ---
    Citations: 8383, h-index: 9, i10-index: 9 (2022-01-14)
%{\bf Lattes CV}: \href{http://lattes.cnpq.br/0898576944135254}{0898576944135254}
\end{tcolorbox}

{% for p in publications.categories %}
\subsection*{\noindent {{ p.name }}}
    \begin{refsection}
        {% for tag in p.papers %}
            \nocite{ {{ tag }} }
        {% endfor %}
       \newrefcontext[labelprefix= {% cycle "P", "J", "C", "W", "N", "T" %} ]
       \printbibliography[heading=none]
    \end{refsection}
{% endfor %}

\section*{Additional education}

{% for p in additionaleducation %}
    \cventry{ {{ p.name }} }
    {\em  {{ p.year }} }
    { {{ p.institution }} }
    { {{ p.place }} } \\
    {{ p.description }}
{% endfor %}

\section*{Languages}

Portuguese (mother tongue)\\
English (fluent)\\
Spanish (intermediate knowledge)

\subsubsection*{Language Certificates}

Certificate in Advanced English (Council of Europe Level C1) - Cambridge English Language Assessment, 2014


\end{document}

